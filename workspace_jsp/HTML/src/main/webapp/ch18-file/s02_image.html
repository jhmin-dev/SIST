<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>이미지 미리보기</title>
<script type="text/javascript">
	window.onload = function() {
		var file = document.getElementById('file');
		var image = document.getElementById('image');
		
		// 이벤트 연결
		file.onchange = function() { // 파일을 선택하면 이벤트 발생
			if(!this.files[0]) { // 기존의 파일 선택을 취소한 경우
				alert('파일을 선택하세요!');
				image.style.display = 'none'; // <img> 태그를 숨김
				return;
			}
			
			// FileReader 객체를 생성하여 이미지 읽기
			var reader = new FileReader();
			reader.readAsDataURL(this.files[0]); // 이미지 데이터를 읽어 base64 인코딩 후 Data URL 형식의 문자열을 반환
			reader.onload = function() { // 이미지 데이터를 모두 읽어들이면 이벤트 발생
				image.src = reader.result; // <img> 태그의 src 속성에 Data URL을 대입
				image.style.display = ''; // <img> 태그를 노출시킴
			};
		};
	};
</script>
</head>
<body>
	<h2>이미지 미리보기</h2>
	<div>
		<img id="image" width="100" height="100" style="display: none;">
	</div>
	<input type="file" id="file" accept="image/gif, image/png, image/jpeg">
</body>
</html>